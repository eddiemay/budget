<div>
	<table class="table sortable no-margin" cellspacing="0" width="100%">
		<thead><tr>
				<th class="black-cell"><span class="loading"></span></th>
				<th>Name</th><th>Parent Account</th><th>Payment Account</th><th>Action</th>
		</tr></thead>
		<tbody>
			<tr data-ng-repeat="account in accountsCtrl.accounts | orderBy:'name'">
				<td class="th table-check-cell">
					<input type="checkbox" data-ng-model="account.selected">
				</td>
				<td>
          <input type="text" data-ng-model="account.name" data-on-change="accountsCtrl.updateAccount(account, 'name')">
        </td>
				<td>
					<select data-ng-model="account.parent_account_id"
                  data-ng-options="parent.id as parent.name for parent in accountsCtrl.listAccounts"
                  data-ng-change="accountsCtrl.updateAccount(account, 'parent_account_id')">
					</select>
				</td>
				<td class="th table-check-cell">
					<input type="checkbox" data-ng-model="account.payment_account"
							data-ng-change="accountsCtrl.updateAccount(account, 'payment_account')">
				</td>
			</tr>
			<tr>
				<td class="th">
					<button data-ng-click="accountsCtrl.addAccount()">+</button>
					<div class="error-block" data-ng-show="accountsCtrl.addError">
						<p class="message error no-margin">{{accountsCtrl.addError}}</p>
					</div>
				</td>
				<td><input type="text" data-ng-model="accountsCtrl.newAccount.name"></td>
				<td>
					<select data-ng-model="accountsCtrl.newAccount.parent_account_id"
                  data-ng-options="parent.id as parent.name for parent in accountsCtrl.listAccounts">
					</select>
				</td>
				<td class="th table-check-cell">
					<input type="checkbox" data-ng-model="accountsCtrl.newAccount.payment_account">
				</td>
				<td class="th">
					<button data-ng-click="accountsCtrl.addAccount()">+</button>
					<div class="error-block" data-ng-show="accountsCtrl.addError">
						<p class="message error no-margin">{{accountsCtrl.addError}}</p>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>